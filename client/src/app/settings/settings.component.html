<div class="settings-container">
  <mat-tab-group>
    <mat-tab label="Location & Time">
      <div class="tab-content">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Location</mat-card-title>
            <mat-card-subtitle>Set your telescope's location coordinates</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <button mat-raised-button color="primary" (click)="getUserLocation()">
              <mat-icon>location_on</mat-icon>
              Get Current Location
            </button>
            
            <form [formGroup]="locationForm" (ngSubmit)="onSubmitLocation()" class="location-form">
              <mat-form-field>
                <mat-label>Latitude</mat-label>
                <input matInput formControlName="latitude" type="number" step="any">
                <mat-error *ngIf="locationForm.get('latitude')?.hasError('required')">
                  Latitude is required
                </mat-error>
              </mat-form-field>
              
              <mat-form-field>
                <mat-label>Longitude</mat-label>
                <input matInput formControlName="longitude" type="number" step="any">
                <mat-error *ngIf="locationForm.get('longitude')?.hasError('required')">
                  Longitude is required
                </mat-error>
              </mat-form-field>
              
              <button mat-raised-button color="accent" type="submit" [disabled]="locationForm.invalid">
                <mat-icon>save</mat-icon>
                Set Location
              </button>
            </form>
          </mat-card-content>
        </mat-card>

        <mat-card>
          <mat-card-header>
            <mat-card-title>Date & Time</mat-card-title>
            <mat-card-subtitle>Sync telescope time with your device</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <button mat-raised-button color="primary" (click)="setDeviceTime()">
              <mat-icon>schedule</mat-icon>
              Set Current Time
            </button>
            <p *ngIf="useTime" class="time-display">
              <mat-icon>check_circle</mat-icon>
              Time set: {{ useTime | date:'medium' }}
            </p>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>

    <mat-tab label="Device Setup">
      <div class="tab-content">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Device Configuration</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <h3>Telescope</h3>
            <p>Baudrate: <br>Serial Port:</p>
            <h3>Guider</h3>
            <p>USB port:</p>
            <h3>Camera</h3>
            <p>USB port:</p>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>

    <mat-tab label="Autohoming">
      <div class="tab-content">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Autohome Configuration</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>RA Start Direction: East/West</p>
            <p>RA Search Distance: 15 degrees</p>
            <p>Dec Start Direction: North/South</p>
            <p>Dec Search Distance: 15 degrees</p>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
